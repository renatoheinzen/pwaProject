!function(I){function Q(g){if(C[g])return C[g].exports;var F=C[g]={i:g,l:!1,exports:{}};return I[g].call(F.exports,F,F.exports,Q),F.l=!0,F.exports}var C={};Q.m=I,Q.c=C,Q.d=function(I,C,g){Q.o(I,C)||Object.defineProperty(I,C,{configurable:!1,enumerable:!0,get:g})},Q.n=function(I){var C=I&&I.__esModule?function(){return I.default}:function(){return I};return Q.d(C,"a",C),C},Q.o=function(I,Q){return Object.prototype.hasOwnProperty.call(I,Q)},Q.p="",Q(Q.s=6)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar SERVER_URL = 'http://localhost:3005/';\n\nvar request = void 0,\n    db = void 0;\n\nfunction getObjectStore() {\n    return db.transaction(['ToDoItems'], 'readwrite').objectStore('ToDoItems');\n}\n\nfunction getAll() {\n    return fetch(SERVER_URL).then(function (response) {\n        return response.json();\n    });\n}\n\nfunction postAll(obj) {\n    return fetch(SERVER_URL, {\n        'method': 'POST',\n        'Content-Type': 'application/json',\n        'body': JSON.stringify(obj)\n    }).then(function (response) {\n        return response.json();\n    }).then(function (items) {\n        navigator.serviceWorker.controller.postMessage('updateScreens');\n        return items;\n    });\n}\n\nvar DB = exports.DB = {\n    getAll: getAll, postAll: postAll,\n    start: function start() {\n        var _this = this;\n\n        return new Promise(function (resolve) {\n            request = indexedDB.open('toDo', 1);\n            request.onsuccess = function (event) {\n                db = request.result;\n                resolve(_this);\n            };\n\n            request.onupgradeneeded = function (event) {\n                db = event.target.result;\n                db.createObjectStore('ToDoItems', { keyPath: 'id' });\n            };\n        });\n    },\n\n    get request() {\n        return request;\n    },\n    get db() {\n        return db;\n    },\n    selectedItem: {},\n    find: function find(id) {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n            var request = getObjectStore().get(+id);\n            request.onsuccess = function (event) {\n                _this2.selectedItem = request.result;\n                resolve(request.result);\n            };\n        });\n    },\n    findAll: function findAll() {\n        var location = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'server';\n\n        return new Promise(function (resolve) {\n            if (navigator.onLine && location === 'server') {\n                resolve(getAll());\n            } else {\n                var request = getObjectStore().getAll();\n                request.onsuccess = function (event) {\n                    resolve(request.result);\n                };\n            }\n        });\n    },\n    insert: function insert(item) {\n        var _this3 = this;\n\n        return new Promise(function (resolve) {\n            item.id = new Date().getTime();\n            item.isChecked = false;\n\n            if (navigator.onLine) {\n                resolve(postAll(item));\n            } else {\n                var request = getObjectStore().add(item);\n                request.onsuccess = function (event) {\n                    resolve(_this3.findAll());\n\n                    navigator.serviceWorker.ready.then(function (registration) {\n                        return registration.sync.register('newItem');\n                    });\n                };\n            }\n        });\n    },\n    update: function update(item) {\n        var _this4 = this;\n\n        return new Promise(function (resolve) {\n            var updatedItem = Object.assign(_this4.selectedItem, item);\n            var request = getObjectStore().put(updatedItem);\n            request.onsuccess = function (event) {\n                resolve(_this4.findAll());\n            };\n        });\n    },\n    remove: function remove(id) {\n        var _this5 = this;\n\n        return new Promise(function (resolve) {\n            var request = getObjectStore().delete(id);\n            request.onsuccess = function (event) {\n                resolve(_this5.findAll());\n            };\n        });\n    },\n    checkAll: function checkAll() {\n        var _this6 = this;\n\n        var isChecked = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var isAllUpdated = false,\n            isUpdated = false;\n        return new Promise(function (resolve) {\n            getObjectStore().openCursor().onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    isUpdated = false;\n                    var newData = cursor.value;\n                    newData.isChecked = isChecked;\n                    var request = cursor.update(newData);\n                    request.onsuccess = function () {\n                        isUpdated = true;\n                        if (isAllUpdated && isUpdated) {\n                            resolve(_this6.findAll());\n                        }\n                    };\n                    cursor.continue();\n                } else {\n                    isAllUpdated = true;\n                    if (isAllUpdated && isUpdated) {\n                        resolve(_this6.findAll());\n                    }\n                }\n            };\n        });\n    },\n    clearAll: function clearAll() {\n        var _this7 = this;\n\n        var isAllRemoved = false,\n            isRemoved = false;\n        return new Promise(function (resolve) {\n            getObjectStore().openCursor().onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    isRemoved = false;\n                    if (cursor.value.isChecked) {\n                        var request = cursor.delete();\n                        request.onsuccess = function () {\n                            isRemoved = true;\n                            if (isAllRemoved && isRemoved) {\n                                resolve(_this7.findAll());\n                            }\n                        };\n                    } else {\n                        isRemoved = true;\n                    }\n                    cursor.continue();\n                } else {\n                    isAllRemoved = true;\n                    if (isAllRemoved && isRemoved) {\n                        resolve(_this7.findAll());\n                    }\n                }\n            };\n        });\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvREIuanM/ODNmYiJdLCJuYW1lcyI6WyJTRVJWRVJfVVJMIiwicmVxdWVzdCIsImRiIiwiZ2V0T2JqZWN0U3RvcmUiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZ2V0QWxsIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwicG9zdEFsbCIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwiY29udHJvbGxlciIsInBvc3RNZXNzYWdlIiwiaXRlbXMiLCJEQiIsInN0YXJ0IiwiUHJvbWlzZSIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJldmVudCIsInJlc3VsdCIsInJlc29sdmUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJ0YXJnZXQiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJzZWxlY3RlZEl0ZW0iLCJmaW5kIiwiaWQiLCJnZXQiLCJmaW5kQWxsIiwibG9jYXRpb24iLCJvbkxpbmUiLCJpbnNlcnQiLCJpdGVtIiwiRGF0ZSIsImdldFRpbWUiLCJpc0NoZWNrZWQiLCJhZGQiLCJyZWFkeSIsInJlZ2lzdHJhdGlvbiIsInN5bmMiLCJyZWdpc3RlciIsInVwZGF0ZSIsInVwZGF0ZWRJdGVtIiwiT2JqZWN0IiwiYXNzaWduIiwicHV0IiwicmVtb3ZlIiwiZGVsZXRlIiwiY2hlY2tBbGwiLCJpc0FsbFVwZGF0ZWQiLCJpc1VwZGF0ZWQiLCJvcGVuQ3Vyc29yIiwiY3Vyc29yIiwibmV3RGF0YSIsInZhbHVlIiwiY29udGludWUiLCJjbGVhckFsbCIsImlzQWxsUmVtb3ZlZCIsImlzUmVtb3ZlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxhQUFhLHdCQUFuQjs7QUFFQSxJQUFJQyxnQkFBSjtBQUFBLElBQ0lDLFdBREo7O0FBR0EsU0FBU0MsY0FBVCxHQUF5QjtBQUNyQixXQUFPRCxHQUFHRSxXQUFILENBQWUsQ0FBQyxXQUFE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WSxLQUFaO0FBQ0Esd0JBQUdOLE9BQU9FLEtBQVAsQ0FBYW5CLFNBQWhCLEVBQTBCO0FBQ3RCLDRCQUFJM0MsVUFBVTRELE9BQU9MLE1BQVAsRUFBZDtBQUNBdkQsZ0NBQVF3QixTQUFSLEdBQW9CLFlBQU07QUFDdEIwQyx3Q0FBWSxJQUFaO0FBQ0EsZ0NBQUdELGdCQUFnQkMsU0FBbkIsRUFBNkI7QUFDekJ2Qyx3Q0FBUSxPQUFLUyxPQUFMLEVBQVI7QUFDSDtBQUNKLHlCQUxEO0FBTUgscUJBUkQsTUFRSztBQUNEOEIsb0NBQVksSUFBWjtBQUNIO0FBQ0ROLDJCQUFPRyxRQUFQO0FBQ0gsaUJBZEQsTUFjSztBQUNERSxtQ0FBZSxJQUFmO0FBQ0Esd0JBQUdBLGdCQUFnQkMsU0FBbkIsRUFBNkI7QUFDekJ2QyxnQ0FBUSxPQUFLUyxPQUFMLEVBQVI7QUFDSDtBQUNKO0FBQ0osYUF0QkQ7QUF1QkgsU0F4Qk0sQ0FBUDtBQXlCSDtBQS9IYSxDQUFYIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTRVJWRVJfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwNS8nO1xyXG5cclxubGV0IHJlcXVlc3QsXHJcbiAgICBkYjtcclxuXHJcbmZ1bmN0aW9uIGdldE9iamVjdFN0b3JlKCl7XHJcbiAgICByZXR1cm4gZGIudHJhbnNhY3Rpb24oWydUb0RvSXRlbXMnXSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKCdUb0RvSXRlbXMnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsKCl7XHJcbiAgICByZXR1cm4gZmV0Y2goU0VSVkVSX1VSTCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwb3N0QWxsKG9iail7XHJcbiAgICByZXR1cm4gZmV0Y2goU0VSVkVSX1VSTCwge1xyXG4gICAgICAgICdtZXRob2QnOiAnUE9TVCcsXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAnYm9keSc6IEpTT04uc3RyaW5naWZ5KG9iailcclxuICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGl0ZW1zID0+IHtcclxuICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSgndXBkYXRlU2NyZWVucycpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERCID0ge1xyXG4gICAgZ2V0QWxsLCBwb3N0QWxsLFxyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHJlcXVlc3QgPSBpbmRleGVkREIub3BlbigndG9EbycsIDEpO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnVG9Eb0l0ZW1zJywgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBnZXQgcmVxdWVzdCgpeyByZXR1cm4gcmVxdWVzdDsgfSxcclxuICAgIGdldCBkYigpeyByZXR1cm4gZGI7IH0sXHJcbiAgICBzZWxlY3RlZEl0ZW06IHt9LFxyXG4gICAgZmluZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZ2V0KCtpZCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGZpbmRBbGwobG9jYXRpb24gPSAnc2VydmVyJyl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBpZihuYXZpZ2F0b3Iub25MaW5lICYmIGxvY2F0aW9uID09PSAnc2VydmVyJyl7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGdldEFsbCgpKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZ2V0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBpbnNlcnQoaXRlbSl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmlkID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgaXRlbS5pc0NoZWNrZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmKG5hdmlnYXRvci5vbkxpbmUpe1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShwb3N0QWxsKGl0ZW0pKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuYWRkKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmV3SXRlbScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZShpdGVtKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24odGhpcy5zZWxlY3RlZEl0ZW0sIGl0ZW0pO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkucHV0KHVwZGF0ZWRJdGVtKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHsgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSkgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlKGlkKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoKS5kZWxldGUoaWQpO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4geyByZXNvbHZlKHRoaXMuZmluZEFsbCgpKSB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBjaGVja0FsbChpc0NoZWNrZWQgPSBmYWxzZSl7XHJcbiAgICAgICAgdmFyIGlzQWxsVXBkYXRlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGdldE9iamVjdFN0b3JlKCkub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBpZihjdXJzb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0gY3Vyc29yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGEuaXNDaGVja2VkID0gaXNDaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gY3Vyc29yLnVwZGF0ZShuZXdEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNBbGxVcGRhdGVkICYmIGlzVXBkYXRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQWxsVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNBbGxVcGRhdGVkICYmIGlzVXBkYXRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5maW5kQWxsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgY2xlYXJBbGwoKXtcclxuICAgICAgICB2YXIgaXNBbGxSZW1vdmVkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGlzUmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgZ2V0T2JqZWN0U3RvcmUoKS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGlmKGN1cnNvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3Vyc29yLnZhbHVlLmlzQ2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gY3Vyc29yLmRlbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc0FsbFJlbW92ZWQgJiYgaXNSZW1vdmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQWxsUmVtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNBbGxSZW1vdmVkICYmIGlzUmVtb3ZlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5maW5kQWxsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy90b0RvREIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},,,,,,function(I,Q,C){I.exports=C(7)},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _toDoDB = __webpack_require__(0);\n\n_toDoDB.DB.start();\n\nvar CACHE_NAME = 'v1.0.0';\nvar FILES = ['./', './index.html', './css/styles.css', './app.bundle.js'];\n\nself.addEventListener('install', function (event) {\n    event.waitUntil(caches.open(CACHE_NAME).then(function (cache) {\n        return cache.addAll(FILES);\n    }));\n});\n\nself.addEventListener('activate', function (event) {\n    event.waitUntil(caches.keys().then(function (keys) {\n        return Promise.all(keys.filter(function (key) {\n            return key.indexOf(CACHE_NAME) !== 0;\n        }).map(function (key) {\n            return caches.delete(key);\n        }));\n    }));\n});\n\nself.addEventListener('fetch', function (event) {\n    event.respondWith(caches.match(event.request).then(function (response) {\n        return response || fetch(event.request);\n    }));\n});\n\nfunction sendItems() {\n    return _toDoDB.DB.findAll('local').then(function (items) {\n        return _toDoDB.DB.postAll(items);\n    });\n}\n\nfunction updateScreens() {\n    self.clients.matchAll().then(function (clients) {\n        clients.forEach(function (client) {\n            client.postMessage('updateScreens');\n        });\n    });\n}\n\nself.addEventListener('sync', function (event) {\n    if (event.tag === 'newItem' || event.tag === 'test-tag-from-devtools') {\n        event.waitUntil(sendItems());\n    }\n});\n\nself.addEventListener('message', function (event) {\n    if (event.data === 'updateScreens') {\n        updateScreens();\n    }\n});\n\nself.addEventListener('push', function (event) {\n    var message = event.data.text();\n    self.registration.showNotification('Push message received', {\n        body: message,\n        icon: './images/tw_icon.png',\n        actions: [{ action: 'confirm1', title: 'Abrir PWA' }, { action: 'confirm2', title: 'Abrir TreinaWeb' }]\n    });\n});\n\nself.addEventListener('notificationclick', function (event) {\n    event.notification.close();\n    var url = event.action === 'confirm1' ? 'http://localhost:3000' : 'https://treinaweb.com.br';\n\n    event.waitUntil(self.clients.matchAll().then(function (activeClients) {\n        if (activeClients.length > 0) {\n            activeClients[0].navigate(url);\n        } else {\n            self.clients.openWindow(url);\n        }\n    }));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdi5qcz80OTc2Il0sIm5hbWVzIjpbInN0YXJ0IiwiQ0FDSEVfTkFNRSIsIkZJTEVTIiwic2VsZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIndhaXRVbnRpbCIsImNhY2hlcyIsIm9wZW4iLCJ0aGVuIiwiY2FjaGUiLCJhZGRBbGwiLCJrZXlzIiwiUHJvbWlzZSIsImFsbCIsImZpbHRlciIsImtleSIsImluZGV4T2YiLCJtYXAiLCJkZWxldGUiLCJyZXNwb25kV2l0aCIsIm1hdGNoIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJzZW5kSXRlbXMiLCJmaW5kQWxsIiwicG9zdEFsbCIsIml0ZW1zIiwidXBkYXRlU2NyZWVucyIsImNsaWVudHMiLCJtYXRjaEFsbCIsImZvckVhY2giLCJjbGllbnQiLCJwb3N0TWVzc2FnZSIsInRhZyIsImRhdGEiLCJtZXNzYWdlIiwidGV4dCIsInJlZ2lzdHJhdGlvbiIsInNob3dOb3RpZmljYXRpb24iLCJib2R5IiwiaWNvbiIsImFjdGlvbnMiLCJhY3Rpb24iLCJ0aXRsZSIsIm5vdGlmaWNhdGlvbiIsImNsb3NlIiwidXJsIiwiYWN0aXZlQ2xpZW50cyIsImxlbmd0aCIsIm5hdmlnYXRlIiwib3BlbldpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQSxXQUFHQSxLQUFIOztBQUVBLElBQU1DLGFBQWEsUUFBbkI7QUFDQSxJQUFNQyxRQUFRLENBQ1YsSUFEVSxFQUVWLGNBRlUsRUFHVixrQkFIVSxFQUlWLGlCQUpVLENBQWQ7O0FBVUFDLEtBQUtDLGdCQUFMLENBQXNCLFNBQXRCLEVBQWlDLFVBQVNDLEtBQVQsRUFBZTtBQUM1Q0EsVUFBTUMsU0FBTixDQUNJQyxPQUFPQyxJQUFQLENBQVlQLFVBQVosRUFBd0JRLElBQXhCLENBQTZCLFVBQVNDLEtBQVQsRUFBZTtBQUN4QyxlQUFPQSxNQUFNQyxNQUFOLENBQWFULEtBQWIsQ0FBUDtBQUNILEtBRkQsQ0FESjtBQUtILENB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ZCxFQUFpQkUsUUFBakIsQ0FBMEJILEdBQTFCO0FBQ0gsU0FGRCxNQUVLO0FBQ0Q3QyxpQkFBSzJCLE9BQUwsQ0FBYXNCLFVBQWIsQ0FBd0JKLEdBQXhCO0FBQ0g7QUFDSixLQU5ELENBREo7QUFTSCxDQWJEIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEQiB9IGZyb20gJy4vanMvdG9Eb0RCJztcclxuXHJcbkRCLnN0YXJ0KCk7XHJcblxyXG5jb25zdCBDQUNIRV9OQU1FID0gJ3YxLjAuMCc7XHJcbmNvbnN0IEZJTEVTID0gW1xyXG4gICAgJy4vJyxcclxuICAgICcuL2luZGV4Lmh0bWwnLFxyXG4gICAgJy4vY3NzL3N0eWxlcy5jc3MnLFxyXG4gICAgJy4vYXBwLmJ1bmRsZS5qcydcclxuXVxyXG5cclxuXHJcblxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgZXZlbnQud2FpdFVudGlsKFxyXG4gICAgICAgIGNhY2hlcy5vcGVuKENBQ0hFX05BTUUpLnRoZW4oZnVuY3Rpb24oY2FjaGUpe1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGUuYWRkQWxsKEZJTEVTKTtcclxuICAgICAgICB9KVxyXG4gICAgKVxyXG59KVxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmF0ZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQud2FpdFVudGlsKFxyXG4gICAgICAgIGNhY2hlcy5rZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoa2V5c1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKENBQ0hFX05BTUUpICE9PSAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG59KTtcclxuXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBldmVudC5yZXNwb25kV2l0aChcclxuICAgICAgICBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTtcclxuICAgICAgICB9KVxyXG4gICAgKVxyXG59KVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNlbmRJdGVtcygpe1xyXG4gICAgcmV0dXJuIERCLmZpbmRBbGwoJ2xvY2FsJylcclxuICAgICAgICAudGhlbihpdGVtcyA9PiBEQi5wb3N0QWxsKGl0ZW1zKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVNjcmVlbnMoKXtcclxuICAgIHNlbGYuY2xpZW50cy5tYXRjaEFsbCgpLnRoZW4oZnVuY3Rpb24oY2xpZW50cyl7XHJcbiAgICAgICAgY2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNsaWVudCl7XHJcbiAgICAgICAgICAgIGNsaWVudC5wb3N0TWVzc2FnZSgndXBkYXRlU2NyZWVucycpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3N5bmMnLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBpZihldmVudC50YWcgPT09ICduZXdJdGVtJyB8fCBldmVudC50YWcgPT09ICd0ZXN0LXRhZy1mcm9tLWRldnRvb2xzJyApe1xyXG4gICAgICAgIGV2ZW50LndhaXRVbnRpbChzZW5kSXRlbXMoKSlcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBpZihldmVudC5kYXRhID09PSAndXBkYXRlU2NyZWVucycpe1xyXG4gICAgICAgIHVwZGF0ZVNjcmVlbnMoKTtcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3B1c2gnLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICB2YXIgbWVzc2FnZSA9IGV2ZW50LmRhdGEudGV4dCgpO1xyXG4gICAgc2VsZi5yZWdpc3RyYXRpb24uc2hvd05vdGlmaWNhdGlvbignUHVzaCBtZXNzYWdlIHJlY2VpdmVkJywge1xyXG4gICAgICAgIGJvZHk6IG1lc3NhZ2UsXHJcbiAgICAgICAgaWNvbjogJy4vaW1hZ2VzL3R3X2ljb24ucG5nJyxcclxuICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgIHthY3Rpb246ICdjb25maXJtMScsIHRpdGxlOiAnQWJyaXIgUFdBJ30sXHJcbiAgICAgICAgICAgIHthY3Rpb246ICdjb25maXJtMicsIHRpdGxlOiAnQWJyaXIgVHJlaW5hV2ViJ31cclxuICAgICAgICBdXHJcbiAgICB9KVxyXG59KVxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdub3RpZmljYXRpb25jbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50Lm5vdGlmaWNhdGlvbi5jbG9zZSgpO1xyXG4gICAgdmFyIHVybCA9IGV2ZW50LmFjdGlvbiA9PT0gJ2NvbmZpcm0xJyA/ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnIDogJ2h0dHBzOi8vdHJlaW5hd2ViLmNvbS5icic7XHJcblxyXG4gICAgZXZlbnQud2FpdFVudGlsKFxyXG4gICAgICAgIHNlbGYuY2xpZW50cy5tYXRjaEFsbCgpLnRoZW4oZnVuY3Rpb24oYWN0aXZlQ2xpZW50cyl7XHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZUNsaWVudHMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDbGllbnRzWzBdLm5hdmlnYXRlKHVybCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jbGllbnRzLm9wZW5XaW5kb3codXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICApXHJcbn0pXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3YuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n")}]);